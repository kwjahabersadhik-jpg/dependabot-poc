@page "/addstandingorder-new"
@layout BlankLayout

@using CreditCardsSystem.Domain.Common
@using Kfh.Aurora.Blazor.Components.ViewModels.Tabs;

<div class="d-flex flex-column align-items-center justify-content-center mt-8">
    <TelerikButton Class="btn btn-primary btn-sm" OnClick="async () => await OffCanvasRef.ToggleAsync()">Add standing order</TelerikButton>
</div>
<OffCanvas @ref="OffCanvasRef" Title="Add Standing Order">
    <OffcanvasContent>

        <div class="form-flex">
            <ul class="list">
                <li>
                    <div class="mt-4">
                        <label class="editor-label mb-2">Debit Account*</label>
                        <TelerikDropDownList Data="@DebitAccount" @bind-Value="@AccountValue" TextField="name" ValueField="value" DefaultText="Select Account">
                            <DropDownListSettings>
                                <DropDownListPopupSettings MaxHeight="200px" />
                            </DropDownListSettings>
                        </TelerikDropDownList>
                    </div>
                </li>
                <li>
                    <div class="textfield">
                        <H5>Available Balance</H5>
                        <H3>1155.250 <SubH2>KWD</SubH2></H3>
                    </div>
                </li>
                <li>
                    <div class="textfield">
                        <H4>Amount</H4>
                        <TextInputField Type="textfield-input"
                                        Placeholder="Enter amount..."
                                        Label=" "
                                        AddOnType="Text"
                                        AddOnValue="KWD">
                        </TextInputField>

                        @* <TextInputField Type="textfield-input" Label="Amount" Placeholder="0" HelperText="Enter standing order amount"></TextInputField> *@
                    </div>
                </li>
                <li>
                    <div class="mt-4">
                        <RadioButton Data="DeliveryType" Value="@SelectedDeliveryType" ValueChanged="@(OnRadioDeliveryTypeSelection)"></RadioButton>
                    </div>
                </li>
                <li>
                    <div class="mt-4">
                        <label class="editor-label mb-2">Supplementary card number*</label>
                        <TelerikDropDownList Data="@DebitAccount" @bind-Value="@AccountValue" TextField="name" ValueField="value" DefaultText="Select Account">
                            <DropDownListSettings>
                                <DropDownListPopupSettings MaxHeight="200px" />
                            </DropDownListSettings>
                        </TelerikDropDownList>
                    </div>
                </li>
                <li>
                    <H5>Full Name</H5>
                    <H3>Yousuf Amin</H3>
                </li>
                <li>
                    <H5>Description</H5>
                    <H3>Hello world</H3>
                </li>
                <Divider />
                <li>
                    <div class="mt-4 mb-3">
                        <label class="editor-label mb-6">Order duration</label>
                    </div>

                    <ChipGroup Selected="All">
                        <Chip Text="Date" Value="Date"></Chip>
                        <Chip Text="Count" Value="Count"></Chip>
                        <Chip Text="Unlimitied" Value="Unlimitied"></Chip>

                    </ChipGroup>
                    <div class="mt-4">
                        <TelerikDateRangePicker @ref="@DatePicker" Format=@ConfigurationBase.ReportDateFormat @bind-StartValue="@StartValue" @bind-EndValue="@EndValue" Size="small">
                        </TelerikDateRangePicker>
                    </div>
                </li>
            </ul>
        </div>
    </OffcanvasContent>

    <OffcanvasFooterContent>
        <div class="drawer-buttons justify-content-between align-items-center">
            <Button Type="btn-secondary" ButtonType="@ButtonType.Button" Label="Cancel"></Button>
            <Button Type="btn-primary btn-sm" Label="Submit"></Button>

        </div>
    </OffcanvasFooterContent>

</OffCanvas>



@code {

    public OffCanvas OffCanvasRef { get; set; }

    public string StatusValue { get; set; } = "Activate";
    public List<string> Status { get; set; } = new List<string> { "Activate", "Block", "Lock", "Delete" };
    public string TextAreaValue { get; set; } = string.Empty;

    public List<string> DebitAccount { get; set; } = new List<string> { "Account 1", "Account 2", "Account 3", "Account 4" };

    public string AccountValue { get; set; } = "";

    public List<TabItem> Items { get; set; } = new List<TabItem> {
                new TabItem()
                {
                    Id = "0",
                    Icon = "icon-Cards",
                    Title = "Owned",
                    Value = "OwnedCard",
                    Checked = true
                },
                new TabItem()
                {
                    Id = "1",
                    Icon = "icon-POS",
                    Title = "Supplementary",
                    Value = "Supplementary"

                }
        };
    public TelerikDateRangePicker<DateTime> DatePicker { get; set; } = null!;
    public DateTime StartValue { get; set; } = DateTime.Now;

    public DateTime EndValue { get; set; } = DateTime.Now;

    private void OnRadioDeliveryTypeSelection(RadioButton.RadioButtonSelection selectedItem)
    {
        SelectedDeliveryType = selectedItem.Item;
    }
    private List<string> DeliveryType = new List<string>()
    {
        "Owned Card",
        "Supplementary Card"
    };

    private string SelectedDeliveryType { get; set; } = "Owned Card";


}
