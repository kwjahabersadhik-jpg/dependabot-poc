@page "/eodreport"

<div class="AO-flex--container">
        <div class="AO-left90--container">

              <div class="panelbar-eodreport">
                        <div>
                            <H2>End of Day Report</H2>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                         <div class="p-3">
                                <OnClickComponent >
                                    <CircleIcon Icon="icon-Filter" Title="Filter" Id="BottomTooltip"/>
                                </OnClickComponent>
                                <TelerikTooltip TargetSelector="#opennewacc" Position="TooltipPosition.Bottom"></TelerikTooltip>
                        </div> 
                            <div class="p-3">
                                 <OnClickComponent >
                                    <CircleIcon Icon="icon-Print" Title="Print" Id="BottomTooltip"/>
                                </OnClickComponent>
                                <TelerikTooltip TargetSelector="#opennewacc" Position="TooltipPosition.Bottom"></TelerikTooltip>
                            </div>
                        </div>
              </div>
 
                <TelerikPanelBar Data="@FlatData" @bind-ExpandedItems="@ExpandedItems" ExpandMode="@SelectedExpandMode">
                    <PanelBarBindings>
                        <PanelBarBinding>
                            <ContentTemplate>
                                    
                                    <div class="kfh-data-table p-0">
                                     <DetailTemplate>

                                        <TelerikGrid Data="@GridData"
                                                    Class="tomato"
                                                    Pageable="true"
                                                    PageSize="5"
                                                    Sortable="true">
                                                    <GridColumns>
                                                        <GridColumn  Field="Staff ID" HeaderClass="k-table-td col-md-1  text-start" OnCellRender="@((e) => e.Class = "k-table-td col-md-1  text-start ")">
                                                            <Template Context="GridDataItems">
                                                                <H4>1212</H4>
                                                            </Template>
                                                        </GridColumn>
                                                        
                                                        <GridColumn Field="Staff Name" HeaderClass="Cell10 detailsCenter" OnCellRender="@((e) => e.Class = "Cell10 detailsCenter ")">
                                                            <Template Context="GridDataItems">
                                                                     <OnClickComponent OnClick="@LoadFlatData">
                                                                         <H4>Abdelkader Hamel</H4>
                                                                    </OnClickComponent>
                                                            </Template>
                                                        </GridColumn>

                                                        <GridColumn Field="No of activities" HeaderClass="Cell10 detailsCenter" OnCellRender="@((e) => e.Class = "Cell10 ")">
                                                            <Template Context="GridDataItems">
                                                                <div class="d-flex flex-row justify-content-center">
                                                                    <div class="activities-item">
                                                                             <div class="activities">11</div>
                                                                    </div>
                                                                </div>
                                                              
                                                            </Template>
                                                        </GridColumn>

                                                    </GridColumns>
                                            </TelerikGrid>
                
                                         </DetailTemplate>
                                    
                                    </div>

                            </ContentTemplate>
                            <HeaderTemplate>
                                <strong>@(((PanelBarItem)context).Text.ToUpper())</strong>
                            </HeaderTemplate>
                        </PanelBarBinding>
                    </PanelBarBindings>
                </TelerikPanelBar>
        
        

        </div>
        
</div>



<div>
                            </div>


@code {
    
    public class PanelBarItem
    {
        public int Id { get; set; }
        public string Text { get; set; }
        public int? ParentId { get; set; }
        public bool HasChildren { get; set; }
        public bool Disabled { get; set; }
    }

    public IEnumerable<PanelBarItem> FlatData { get; set; }
    public IEnumerable<object> ExpandedItems { get; set; }

    

    private void LoadFlatData()
    {
        List<PanelBarItem> items = new List<PanelBarItem>();
        items.Add(new PanelBarItem() { Id = 0, Text = "Card closure"});
        items.Add(new PanelBarItem() { Id = 1, Text = "Card replacement Lost/Stolen"});

        FlatData = items;

        ExpandedItems = new List<object> { items.Last() };
    }

    List<PanelBarExpandMode> ExpandModes { get; set; } = new List<PanelBarExpandMode>
    {   
        PanelBarExpandMode.Single,
        PanelBarExpandMode.Multiple
    };

    public PanelBarExpandMode SelectedExpandMode { get; set; } = PanelBarExpandMode.Single;






private List<Product> GridData { get; set; }
    
    public class Product
    {
        public string Icon { get; set; }
        public string Number { get; set; }
        public string Desc { get; set; }
        public string Rim { get; set; }
        public string Status { get; set; }
    }

    protected override void OnInitialized()
    {
        LoadFlatData();

        GridData = new List<Product>();

        var rnd = new Random();

        for (int i = 1; i <= 5; i++)
        {
            GridData.Add(new Product
            {
                Icon = "icon-Person",
                Number = "805",
                Desc = "E - Statement subscription",
                Rim = "1351202",
                Status = "FULL"
            });

        }

        base.OnInitialized();
    }




}